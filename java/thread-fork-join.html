<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.classList.toggle('dark', true)
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Fork, Join, RecursiveTask | depark's note</title><meta name="description" content="">
    <link rel="preload" href="/TIL/assets/style-J1DHsHYO.css" as="style"><link rel="stylesheet" href="/TIL/assets/style-J1DHsHYO.css">
    <link rel="modulepreload" href="/TIL/assets/app-Bq1ziqGU.js"><link rel="modulepreload" href="/TIL/assets/thread-fork-join.html-DhCMfST4.js">
    <link rel="prefetch" href="/TIL/assets/index.html-BLB5k-Qv.js" as="script"><link rel="prefetch" href="/TIL/assets/toby-ch-06-aop.html-hMBtONpk.js" as="script"><link rel="prefetch" href="/TIL/assets/transaction.html-BHw3P9FW.js" as="script"><link rel="prefetch" href="/TIL/assets/bb.html-B80LlqEB.js" as="script"><link rel="prefetch" href="/TIL/assets/functional-interface-lambda.html-DA7CtdQk.js" as="script"><link rel="prefetch" href="/TIL/assets/generics.html-BVXvcYc_.js" as="script"><link rel="prefetch" href="/TIL/assets/jvm-class-loader.html-DsC3rfwQ.js" as="script"><link rel="prefetch" href="/TIL/assets/jvm-garbage-collector.html-BMHJAyBT.js" as="script"><link rel="prefetch" href="/TIL/assets/jvm-gc-algorithm.html-BN6dcFLU.js" as="script"><link rel="prefetch" href="/TIL/assets/jvm-runtime-data-area.html-3Td6W_tb.js" as="script"><link rel="prefetch" href="/TIL/assets/reactive-programming-basic.html-BpMS20IW.js" as="script"><link rel="prefetch" href="/TIL/assets/thread-callable-future-executor.html-C7A7xw3k.js" as="script"><link rel="prefetch" href="/TIL/assets/thread-completable-future.html-CXCejYY9.js" as="script"><link rel="prefetch" href="/TIL/assets/thread-runnable.html-QfxqDtnE.js" as="script"><link rel="prefetch" href="/TIL/assets/aop.html-jLTb5xjZ.js" as="script"><link rel="prefetch" href="/TIL/assets/404.html-Bl0yUr0v.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/TIL/"><!----><span class="vp-site-name" aria-hidden="true">depark&#39;s note</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://park0691.github.io/" aria-label="Blog" rel="noopener noreferrer" target="_blank"><!---->Blog<!----></a></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://park0691.github.io/" aria-label="Blog" rel="noopener noreferrer" target="_blank"><!---->Blog<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Book <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item">토비의 스프링 3.1 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/book/toby-ch-06-aop.html" aria-label="CH6. AOP"><!---->CH6. AOP<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Java <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item">JVM, Java Virtual Machine <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/jvm-class-loader.html" aria-label="Class Loader"><!---->Class Loader<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/jvm-runtime-data-area.html" aria-label="Runtime Data Area"><!---->Runtime Data Area<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/jvm-gc-algorithm.html" aria-label="Garbage Collection Algorithm"><!---->Garbage Collection Algorithm<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/jvm-garbage-collector.html" aria-label="Garbage Collector"><!---->Garbage Collector<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/generics.html" aria-label="Generics"><!---->Generics<!----></a><!----></li><li><p tabindex="0" class="vp-sidebar-item active">Thread Programming <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/thread-runnable.html" aria-label="Thread, Runnable"><!---->Thread, Runnable<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/TIL/java/thread-fork-join.html" aria-label="Fork, Join, RecursiveTask"><!---->Fork, Join, RecursiveTask<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/thread-callable-future-executor.html" aria-label="Callable, Future, Executor"><!---->Callable, Future, Executor<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/thread-completable-future.html" aria-label="CompletableFuture"><!---->CompletableFuture<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/reactive-programming-basic.html" aria-label="Reactive Programming"><!---->Reactive Programming<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/java/functional-interface-lambda.html" aria-label="함수형 인터페이스와 람다"><!---->함수형 인터페이스와 람다<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Spring <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/spring/aop.html" aria-label="AOP"><!---->AOP<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Database <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/TIL/database/transaction.html" aria-label="Transaction"><!---->Transaction<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="fork-join-recursivetask" tabindex="-1"><a class="header-anchor" href="#fork-join-recursivetask"><span>Fork, Join, RecursiveTask</span></a></h1><p>하나의 작업을 여러 개의 작은 작업으로 나누어 (<code>fork</code>) 계산하고, 작업한 결과를 병합하는 (<code>join</code>) 것을 말한다.</p><p><img src="/TIL/images/java/20241003-fork-join-1.png" alt="fork-join"><em>출처 : https://www.geeksforgeeks.org/forkjoinpool-class-in-java-with-examples/</em></p><h2 id="forkjoinpool" tabindex="-1"><a class="header-anchor" href="#forkjoinpool"><span>ForkJoinPool</span></a></h2><p>효율적인 병렬 처리를 위해서 Java 7에 도입되었다. 분할 정복 알고리즘을 통해 재귀적으로 처리하는 작업에 최적화된 Work Stealing 알고리즘을 사용하는 스레드 풀이다.</p><p>ForkJoinPool을 사용하면 큰 작업을 작은 단위로 분할한 후 이를 병렬로 처리할 수 있다.</p><p>상속 구조는 다음과 같다.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">java.lang.Object</span>
<span class="line">	java.util.concurrent.AbstractExecutorService</span>
<span class="line">		java.util.concurrent.ForkJoinPool</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="work-stealing" tabindex="-1"><a class="header-anchor" href="#work-stealing"><span>Work Stealing</span></a></h3><p><img src="/TIL/images/java/20241003-fork-join-2.png" alt="work-stealing"><em>출처 : http://www.h-online.com/developer/features/The-fork-join-framework-in-Java-7-1762357.html</em></p><p>작업을 분할하면 모든 CPU 코어에서 실행할 것이고 크기가 같은 각각의 작업은 같은 시간 안에 종료될 것이라 생각할 수 있다.</p><p>하지만 서브 작업의 완료시간은 크게 달라질 수 있다. 분할 기법이 효율적이지 않기 때문일 수 있고, 예기치 않게 디스크 접근 속도가 저하되거나 외부 서비스와 협력하는 과정에서 지연이 생길 수 있기 때문이다.</p><p>Fork/Join 프레임워크에서는 Work Stealing, 작업 훔치기 기법으로 이 문제를 해결한다. 작업 훔치기 기법에서는 ForkJoinPool의 모든 스레드를 거의 공정하게 분할한다. 각각의 스레드는 자신에게 할당된 작업을 포함한 이중 연결 리스트를 참조하면서 작업이 끝날 때마다 큐의 헤드에서 다른 작업을 가져와서 작업을 처리한다. 이때 한 스레드는 다른 스레드보다 자신에게 할당된 작업을 더 빨리 처리할 수 있다.</p><p>즉, 할 일이 없어진 스레드가 다른 스레드의 큐에서 대기하고 있는 작업을 가져가서 대신 해주는 것이다. 따라서 작업 스레드 간의 작업 부하를 비슷한 수준으로 유지할 수 있다.</p><h2 id="recursiveaction-recursivetask" tabindex="-1"><a class="header-anchor" href="#recursiveaction-recursivetask"><span>RecursiveAction, RecursiveTask</span></a></h2><p>ForkJoinPool을 이용하려면 ForkJoinTask를 확장한 클래스를 사용해야 한다. ForkJoinTask를 확장한 추상 클래스는 RecursiveAction, RecursiveTask&lt;T&gt; 이 있으며 이 클래스의 서브 클래스를 만들어서 사용한다.</p><p>RecursiveAction과 RecursiveTask&lt;T&gt;의 차이는 처리 결과 값 리턴 여부이다. RecursiveTask&lt;T&gt;은 결과 값을 리턴하며 RecursiveAction은 결과 값을 리턴하지 않는다.</p><p>두 클래스의 확장 관계는 다음과 같다.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">java.lang.Object</span>
<span class="line">    java.util.concurrent.ForkJoinTask&lt;Void&gt;</span>
<span class="line">        java.util.concurrent.RecursiveAction</span>
<span class="line">            implemented Serializable, Future&lt;Void&gt;</span>
<span class="line">    </span>
<span class="line">java.lang.Object</span>
<span class="line">    java.util.concurrent.ForkJoinTask&lt;V&gt;</span>
<span class="line">        java.util.concurrent.RecursiveTask&lt;V&gt;</span>
<span class="line">            implemented Serializable, Future&lt;Void&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>두 클래스는 <code>compute()</code> 추상 메서드를 가지며 서브 클래스를 만들 때 <code>compute()</code> 메소드를 구현해야 한다.</p><p><code>compute()</code> 메서드는 작업을 서브 작업으로 분할하는 로직과 더 이상 분할할 수 없을 때 개별 서브 작업의 처리 결과를 생산할 알고리즘을 정의한다. 대부분의 작업 수행은 다음과 같다.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>작업 단위가 충분히 작거나 더 이상 분할할 수 없으면<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    해당 작업을 수행</span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    작업을 쪼개어 두 개의 작업으로 분할<span class="token punctuation">(</span>재귀적 호출<span class="token punctuation">,</span> fork<span class="token punctuation">)</span></span>
<span class="line">    모든 서브태스크의 연산이 완료될 때까지 기다림</span>
<span class="line">    각 서브태스크의 결과를 합칩<span class="token punctuation">(</span>join<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="예제-코드" tabindex="-1"><a class="header-anchor" href="#예제-코드"><span>예제 코드</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetSum</span> <span class="token keyword">extends</span> <span class="token class-name">RecursiveTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">long</span> from<span class="token punctuation">,</span> <span class="token keyword">to</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">GetSum</span><span class="token punctuation">(</span><span class="token keyword">long</span> from<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>from <span class="token operator">=</span> from<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">to</span> <span class="token operator">=</span> <span class="token keyword">to</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Long</span> <span class="token function">compute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">long</span> gap <span class="token operator">=</span> <span class="token keyword">to</span> <span class="token operator">-</span> from<span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 작업 단위가 충분히 작을 경우 -&gt; 해당 작업 수행</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>gap <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">long</span> tempSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> loop <span class="token operator">=</span> from<span class="token punctuation">;</span> loop <span class="token operator">&lt;=</span> <span class="token keyword">to</span><span class="token punctuation">;</span> loop<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                tempSum <span class="token operator">+=</span> loop<span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            <span class="token keyword">return</span> tempSum<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">// 작업을 나누기 위해서 중간값 찾기</span></span>
<span class="line">        <span class="token keyword">long</span> middle <span class="token operator">=</span> <span class="token punctuation">(</span>from <span class="token operator">+</span> <span class="token keyword">to</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 중간값을 이용하여 작업 수행을 위한 두 개의 객체 생성</span></span>
<span class="line">        <span class="token class-name">GetSum</span> sumPre <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetSum</span><span class="token punctuation">(</span>from<span class="token punctuation">,</span> middle<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 작업 하나를 수행하고</span></span>
<span class="line">        sumPre<span class="token punctuation">.</span><span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 두 번째 객체 생성</span></span>
<span class="line">        <span class="token class-name">GetSum</span> sumPost <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetSum</span><span class="token punctuation">(</span>middle <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">to</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 또 다른 작업을 수행한 후(sumPost.compute()) -&gt; sumPre에서 시작한 작업을 기다린다.</span></span>
<span class="line">        <span class="token keyword">return</span> sumPost<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> sumPre<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>fork()</code> 메서드는 해당 작업을 스레드 풀의 작업 큐에 넣는 비동기 메서드이다.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ForkJoinSample</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">ForkJoinPool</span> mainPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ForkJoinPool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">ForkJoinSample</span> sample <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ForkJoinSample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        sample<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">long</span> from <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">long</span> <span class="token keyword">to</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">GetSum</span> sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetSum</span><span class="token punctuation">(</span>from<span class="token punctuation">,</span> <span class="token keyword">to</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Long</span> result <span class="token operator">=</span> mainPool<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Fork Join: Total sum of &quot;</span> <span class="token operator">+</span> from <span class="token operator">+</span> <span class="token string">&quot; ~ &quot;</span> <span class="token operator">+</span> <span class="token keyword">to</span> <span class="token operator">+</span> <span class="token string">&quot; = &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>References</span></a></h2><ul><li>Java의 신</li><li>모던 자바 인 액션</li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: mem29238@gmail.com">depark</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/TIL/java/thread-runnable.html" aria-label="Thread, Runnable"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Thread, Runnable</span></div></a><a class="route-link auto-link next" href="/TIL/java/thread-callable-future-executor.html" aria-label="Callable, Future, Executor"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Callable, Future, Executor</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/TIL/assets/app-Bq1ziqGU.js" defer></script>
  </body>
</html>
